1-й пример (Auth Code)

Клиентское приложение, которое хранит выданные им токены в таблице информацию связывающую текущего пользователя и его токен. Для этого используем свою таблицу client_user. В которой есть пользовтель с кредами client1/abc321.

Переходим по ссылке localhost:9000, отображается ссылка для перехода в dashboard. Нажимаем на нее и вводим client1:abc321.
После успешной регистрации в приложении перебрасываемся на OAuth сервер где необходимо ввести user1:123 для регистрации на сервере. Если все успешно - переходим на страницу /callback приложения получая при этом значение [code]

ТАк как клиент и сервер находится на одном хосте - для приложения клиентского переопределяем наименование кука
@Override
	public void onStartup(ServletContext servletContext) throws ServletException {
		servletContext.getSessionCookieConfig().setName("client-session");
	}


2- пример (Implicit)

Таблицы используются аналогично предыдущему приложению. Для работы используем пользователя client2:abc321 (или необходимо очистить поля access_token , access_token_validity and refresh_token таблицы client_user для пользователя client1.)

До запуска приложения необходимо внести изменения в ResourceServer, а именно:
1. Resource Server должен поддерживать Cross-origin Resource Sharing (CORS)
2. Добавить аннотацию @CorsOrigin в контроллере над методом /api/profile

пересоберем ресурс-сервер и запустим его.

Переходим по ссылке localhost:9000, отображается ссылка для перехода в dashboard. Нажимаем на нее и вводим client2:abc321.
После успешной регистрации в приложении перебрасываемся на OAuth сервер где необходимо ввести user1:123 для регистрации на сервере. Затем сервер нас перебрасывает на страницу подтверждения предоставления прав. Разрешаем доступ на [read_profile] и нажимаем на Authorize. Если необходимо повторить - почистить таблицу oauth_approvals для пользователя user1 & client2. После чего попадаем на страницу Profile и с помощью JS (profile.js) получаем данные о профайле от ресурс-сервера.

3-е приложение (Password)

Таблицы используются аналогично предыдущему приложению. Для работы используем пользователя client3:abc321.
